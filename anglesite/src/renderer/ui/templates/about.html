<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>About Anglesite</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: 'Courier New', 'Monaco', 'Lucida Console', monospace;
        background:
          linear-gradient(45deg, #ff00ff22 25%, transparent 25%),
          linear-gradient(-45deg, #00ffff22 25%, transparent 25%),
          linear-gradient(45deg, transparent 75%, #ff00ff22 75%),
          linear-gradient(-45deg, transparent 75%, #00ffff22 75%), radial-gradient(circle at 50% 50%, #1a0033, #000000);
        background-size:
          30px 30px,
          30px 30px,
          30px 30px,
          30px 30px,
          100% 100%;
        background-position:
          0 0,
          0 15px,
          15px -15px,
          -15px 0px,
          0 0;
        min-height: 100vh;
        overflow: hidden;
        position: relative;
      }

      /* Animated grid effect */
      body::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-image:
          linear-gradient(rgba(0, 255, 255, 0.1) 1px, transparent 1px),
          linear-gradient(90deg, rgba(0, 255, 255, 0.1) 1px, transparent 1px);
        background-size: 20px 20px;
        animation: gridMove 10s linear infinite;
        pointer-events: none;
      }

      @keyframes gridMove {
        0% {
          transform: translate(0, 0);
        }
        100% {
          transform: translate(20px, 20px);
        }
      }

      /* Floating neon elements */
      body::after {
        content: '';
        position: absolute;
        top: 10%;
        left: 10%;
        width: 80%;
        height: 80%;
        background:
          radial-gradient(circle at 20% 30%, rgba(255, 0, 255, 0.1) 0%, transparent 50%),
          radial-gradient(circle at 80% 70%, rgba(0, 255, 255, 0.1) 0%, transparent 50%);
        animation: pulse 4s ease-in-out infinite alternate;
        pointer-events: none;
      }

      @keyframes pulse {
        0% {
          opacity: 0.3;
          transform: scale(1);
        }
        100% {
          opacity: 0.6;
          transform: scale(1.1);
        }
      }

      .container {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        min-height: 100vh;
        padding: 2rem;
        position: relative;
        z-index: 1;
      }

      .about-card {
        background: rgba(0, 0, 0, 0.8);
        border: 2px solid #00ffff;
        border-radius: 12px;
        padding: 3rem 2rem;
        text-align: center;
        box-shadow:
          0 0 30px rgba(0, 255, 255, 0.5),
          inset 0 0 30px rgba(255, 0, 255, 0.1);
        animation: cardGlow 3s ease-in-out infinite alternate;
        max-width: 400px;
        width: 100%;
      }

      @keyframes cardGlow {
        0% {
          box-shadow:
            0 0 30px rgba(0, 255, 255, 0.5),
            inset 0 0 30px rgba(255, 0, 255, 0.1);
          border-color: #00ffff;
        }
        100% {
          box-shadow:
            0 0 50px rgba(255, 0, 255, 0.7),
            inset 0 0 50px rgba(0, 255, 255, 0.2);
          border-color: #ff00ff;
        }
      }

      .app-icon {
        width: 128px;
        height: 128px;
        margin: 0 auto 2rem;
        border-radius: 20px;
        box-shadow: 0 0 40px rgba(0, 255, 255, 0.6);
        animation: iconFloat 4s ease-in-out infinite;
      }

      @keyframes iconFloat {
        0%,
        100% {
          transform: translateY(0) rotate(0deg);
        }
        25% {
          transform: translateY(-10px) rotate(1deg);
        }
        75% {
          transform: translateY(-5px) rotate(-1deg);
        }
      }

      .app-name {
        font-size: 2.5rem;
        font-weight: bold;
        font-family: 'Impact', 'Arial Black', 'Helvetica', sans-serif;
        color: #ffffff;
        text-shadow:
          0 0 10px rgba(0, 255, 255, 0.8),
          0 0 20px rgba(255, 0, 255, 0.6);
        margin-bottom: 1rem;
        letter-spacing: 0.1em;
        animation: textGlow 2s ease-in-out infinite alternate;
      }

      @keyframes textGlow {
        0% {
          text-shadow:
            0 0 10px rgba(0, 255, 255, 0.8),
            0 0 20px rgba(255, 0, 255, 0.6);
        }
        100% {
          text-shadow:
            0 0 20px rgba(255, 0, 255, 0.8),
            0 0 30px rgba(0, 255, 255, 0.6);
        }
      }

      .app-description {
        font-family: 'Courier New', 'Monaco', 'Lucida Console', monospace;
        color: #00ffff;
        font-size: 0.9rem;
        margin-bottom: 2rem;
        line-height: 1.4;
        text-shadow: 0 0 5px rgba(0, 255, 255, 0.5);
      }

      .version-info {
        font-family: 'Courier New', 'Monaco', 'Lucida Console', monospace;
        color: #ff00ff;
        font-size: 0.85rem;
        margin-bottom: 0.5rem;
        text-shadow: 0 0 5px rgba(255, 0, 255, 0.5);
      }

      .build-info {
        font-family: 'Courier New', 'Monaco', 'Lucida Console', monospace;
        color: #ffff00;
        font-size: 0.75rem;
        margin-bottom: 1rem;
        opacity: 0.8;
        text-shadow: 0 0 5px rgba(255, 255, 0, 0.5);
      }

      .app-url {
        font-family: 'Courier New', 'Monaco', 'Lucida Console', monospace;
        color: #00ffff;
        font-size: 0.75rem;
        text-decoration: none;
        text-shadow: 0 0 5px rgba(0, 255, 255, 0.5);
        transition: all 0.2s ease;
        border: 1px solid transparent;
        padding: 4px 8px;
        border-radius: 4px;
      }

      .app-url:hover {
        color: #ff00ff;
        text-shadow: 0 0 8px rgba(255, 0, 255, 0.8);
        border-color: #ff00ff;
        background: rgba(255, 0, 255, 0.1);
        transform: scale(1.05);
        text-decoration: underline;
      }

      /* Glitch effect for retro feel */
      .glitch {
        position: relative;
      }

      .glitch::before,
      .glitch::after {
        content: attr(data-text);
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
      }

      .glitch::before {
        color: #ff00ff;
        animation: glitch1 2s linear infinite;
      }

      .glitch::after {
        color: #00ffff;
        animation: glitch2 2s linear infinite;
      }

      @keyframes glitch1 {
        0%,
        98% {
          transform: translate(0);
          opacity: 0;
        }
        99% {
          transform: translate(-2px, 2px);
          opacity: 0.8;
        }
        100% {
          transform: translate(0);
          opacity: 0;
        }
      }

      @keyframes glitch2 {
        0%,
        98% {
          transform: translate(0);
          opacity: 0;
        }
        99% {
          transform: translate(2px, -2px);
          opacity: 0.8;
        }
        100% {
          transform: translate(0);
          opacity: 0;
        }
      }

      /* Context menu styling */
      .context-menu {
        position: fixed;
        background: rgba(0, 0, 0, 0.9);
        border: 2px solid #00ffff;
        border-radius: 8px;
        padding: 8px 0;
        min-width: 120px;
        box-shadow:
          0 0 20px rgba(0, 255, 255, 0.6),
          inset 0 0 10px rgba(255, 0, 255, 0.2);
        z-index: 1000;
        display: none;
        font-family: 'Courier New', 'Monaco', 'Lucida Console', monospace;
        animation: contextMenuGlow 2s ease-in-out infinite alternate;
      }

      @keyframes contextMenuGlow {
        0% {
          box-shadow:
            0 0 20px rgba(0, 255, 255, 0.6),
            inset 0 0 10px rgba(255, 0, 255, 0.2);
          border-color: #00ffff;
        }
        100% {
          box-shadow:
            0 0 25px rgba(255, 0, 255, 0.8),
            inset 0 0 15px rgba(0, 255, 255, 0.3);
          border-color: #ff00ff;
        }
      }

      .context-menu-item {
        display: block;
        width: 100%;
        padding: 8px 16px;
        background: none;
        border: none;
        color: #00ffff;
        text-align: left;
        cursor: pointer;
        font-size: 0.85rem;
        text-shadow: 0 0 5px rgba(0, 255, 255, 0.5);
        transition: all 0.2s ease;
      }

      .context-menu-item:hover {
        background: rgba(0, 255, 255, 0.1);
        color: #ff00ff;
        text-shadow: 0 0 8px rgba(255, 0, 255, 0.8);
        transform: translateX(4px);
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="about-card">
        <div class="app-icon" id="appIcon">
          <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="128" height="128">
            <defs>
              <!-- Glowing effect filters -->
              <filter id="glow" x="-50%" y="-50%" width="200%" height="200%">
                <feGaussianBlur stdDeviation="6" result="coloredBlur" />
                <feMerge>
                  <feMergeNode in="coloredBlur" />
                  <feMergeNode in="SourceGraphic" />
                </feMerge>
              </filter>

              <filter id="outerGlow" x="-50%" y="-50%" width="200%" height="200%">
                <feGaussianBlur stdDeviation="12" result="coloredBlur" />
                <feMerge>
                  <feMergeNode in="coloredBlur" />
                  <feMergeNode in="SourceGraphic" />
                </feMerge>
              </filter>

              <filter id="neonFlicker" x="-50%" y="-50%" width="200%" height="200%">
                <feGaussianBlur stdDeviation="3" result="coloredBlur" />
                <feColorMatrix
                  in="coloredBlur"
                  type="matrix"
                  values="0 0 0 0 0
                                0 0.8 1 0 0.2
                                0 0.8 1 0 0.8
                                0 0 0 1 0"
                />
                <feMerge>
                  <feMergeNode in="coloredBlur" />
                  <feMergeNode in="SourceGraphic" />
                </feMerge>
              </filter>

              <!-- Cyberpunk gradient -->
              <linearGradient id="tronGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                <stop offset="0%" style="stop-color: #00ffff; stop-opacity: 1" />
                <stop offset="30%" style="stop-color: #0088ff; stop-opacity: 1" />
                <stop offset="70%" style="stop-color: #0066cc; stop-opacity: 1" />
                <stop offset="100%" style="stop-color: #004499; stop-opacity: 1" />
              </linearGradient>

              <!-- Electric inner highlight -->
              <linearGradient id="innerGlow" x1="0%" y1="0%" x2="100%" y2="100%">
                <stop offset="0%" style="stop-color: #ffffff; stop-opacity: 0.8" />
                <stop offset="50%" style="stop-color: #00ffff; stop-opacity: 0.4" />
                <stop offset="100%" style="stop-color: #0099ff; stop-opacity: 0.2" />
              </linearGradient>
            </defs>

            <!-- Outer glow backdrop -->
            <g filter="url(#outerGlow)" transform="translate(70, 130)">
              <!-- Left angle bracket < with rounded corners -->
              <path
                d="M 330 220 Q 320 200 300 210 L 200 360 Q 180 380 180 400 Q 180 420 200 440 L 300 590 Q 320 600 330 580 Q 350 570 340 550 L 260 420 Q 250 400 260 380 L 340 250 Q 350 230 330 220 Z"
                fill="url(#tronGradient)"
                stroke="#00ffff"
                stroke-width="8"
                stroke-linejoin="round"
                stroke-linecap="round"
                opacity="0.6"
              />

              <!-- Forward slash / with rounded ends -->
              <path
                d="M 450 580 Q 440 600 420 590 Q 410 590 420 570 L 520 230 Q 530 210 550 220 Q 560 220 550 240 L 450 580 Z"
                fill="url(#tronGradient)"
                stroke="#00ffff"
                stroke-width="3"
                stroke-linejoin="round"
                stroke-linecap="round"
                opacity="0.6"
              />

              <!-- Right angle bracket > with rounded corners -->
              <path
                d="M 630 220 Q 620 200 640 210 Q 650 230 660 250 L 740 380 Q 750 400 740 420 L 660 550 Q 650 570 640 590 Q 620 600 630 580 Q 610 570 620 550 L 680 420 Q 690 400 680 380 L 620 250 Q 610 230 630 220 Z"
                fill="url(#tronGradient)"
                stroke="#00ffff"
                stroke-width="3"
                stroke-linejoin="round"
                stroke-linecap="round"
                opacity="0.6"
              />
            </g>

            <!-- Main glowing characters -->
            <g filter="url(#glow)" transform="translate(70, 130)">
              <!-- Left angle bracket < with rounded corners -->
              <path
                d="M 330 220 Q 320 200 300 210 L 200 360 Q 180 380 180 400 Q 180 420 200 440 L 300 590 Q 320 600 330 580 Q 350 570 340 550 L 260 420 Q 250 400 260 380 L 340 250 Q 350 230 330 220 Z"
                fill="url(#tronGradient)"
                stroke="#00ffff"
                stroke-width="10"
                stroke-linejoin="round"
                stroke-linecap="round"
              />

              <!-- Forward slash / with rounded ends -->
              <path
                d="M 450 580 Q 440 600 420 590 Q 410 590 420 570 L 520 230 Q 530 210 550 220 Q 560 220 550 240 L 450 580 Z"
                fill="url(#tronGradient)"
                stroke="#00ffff"
                stroke-width="4"
                stroke-linejoin="round"
                stroke-linecap="round"
              />

              <!-- Right angle bracket > with rounded corners -->
              <path
                d="M 630 220 Q 620 200 640 210 Q 650 230 660 250 L 740 380 Q 750 400 740 420 L 660 550 Q 650 570 640 590 Q 620 600 630 580 Q 610 570 620 550 L 680 420 Q 690 400 680 380 L 620 250 Q 610 230 630 220 Z"
                fill="url(#tronGradient)"
                stroke="#00ffff"
                stroke-width="4"
                stroke-linejoin="round"
                stroke-linecap="round"
              />
            </g>
          </svg>
        </div>
        <h1 class="app-name glitch" data-text="ANGLESITE">ANGLESITE</h1>
        <p class="app-description">
          A local-first, open-source WYSIWYG<br />
          static site generator
        </p>
        <div class="version-info" id="versionInfo">Version 0.1.0</div>
        <div class="build-info" id="buildInfo">Build #{{BUILD_NUMBER}}</div>
        <a href="#" class="app-url" id="appUrl">&lt;https://anglesite.dwk.io&gt;</a>
      </div>
    </div>

    <!-- Context Menu -->
    <div class="context-menu" id="contextMenu">
      <button class="context-menu-item" id="viewSource">View Source</button>
    </div>

    <script>
      // Add some dynamic effects
      document.addEventListener('DOMContentLoaded', function () {
        // Add click effect to icon
        const icon = document.getElementById('appIcon');
        icon.addEventListener('click', function () {
          this.style.transform = 'scale(1.1) rotate(10deg)';
          setTimeout(() => {
            this.style.transform = '';
          }, 200);
        });

        // Populate version info dynamically if available
        if (window.electronAPI) {
          window.electronAPI
            .getAppInfo()
            .then((info) => {
              document.getElementById('versionInfo').textContent = `Version ${info.version}`;
              document.getElementById('buildInfo').textContent = `Build #${info.buildNumber || 'dev'}`;
            })
            .catch(() => {
              // Fallback to static values if API not available
            });
        }

        // Close on Escape key
        document.addEventListener('keydown', function (e) {
          if (e.key === 'Escape') {
            if (window.electronAPI && window.electronAPI.send) {
              window.electronAPI.send('close-about-window');
            } else {
              window.close();
            }
          }
        });

        // App URL functionality
        const appUrl = document.getElementById('appUrl');
        appUrl.addEventListener('click', function (e) {
          e.preventDefault();
          console.log('App URL clicked');
          try {
            if (window.electronAPI && window.electronAPI.openExternal) {
              console.log('Opening app URL with electronAPI.openExternal');
              window.electronAPI.openExternal('https://anglesite.dwk.io');
              console.log('Successfully sent openExternal request for app URL');
            } else {
              console.log('electronAPI not available, cannot open app URL');
              alert('Unable to open link. Please visit https://anglesite.dwk.io manually.');
            }
          } catch (error) {
            console.error('Error opening app URL:', error);
            alert('Unable to open link. Please visit https://anglesite.dwk.io manually.');
          }
        });

        // Context menu functionality
        const contextMenu = document.getElementById('contextMenu');
        const viewSourceBtn = document.getElementById('viewSource');

        // Show context menu on right-click
        document.addEventListener('contextmenu', function (e) {
          e.preventDefault();
          contextMenu.style.display = 'block';
          contextMenu.style.left = e.pageX + 'px';
          contextMenu.style.top = e.pageY + 'px';
        });

        // Hide context menu on left-click anywhere
        document.addEventListener('click', function () {
          contextMenu.style.display = 'none';
        });

        // Handle View Source click
        viewSourceBtn.addEventListener('click', function (e) {
          e.stopPropagation();
          console.log('View Source clicked');
          console.log('electronAPI available:', !!window.electronAPI);
          console.log('openExternal available:', !!(window.electronAPI && window.electronAPI.openExternal));

          try {
            if (window.electronAPI && window.electronAPI.openExternal) {
              console.log('Opening URL with electronAPI.openExternal');
              window.electronAPI.openExternal('https://github.com/anglesite/');
              console.log('Successfully sent openExternal request');
            } else {
              console.log('electronAPI not available, cannot open external URL');
              // Note: window.open doesn't work reliably in Electron data URLs
              alert('Unable to open external link. Please visit https://github.com/anglesite/ manually.');
            }
          } catch (error) {
            console.error('Error opening external URL:', error);
            alert('Unable to open external link. Please visit https://github.com/anglesite/ manually.');
          }
          contextMenu.style.display = 'none';
        });
      });
    </script>
  </body>
</html>
